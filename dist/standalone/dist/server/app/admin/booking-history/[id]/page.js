(()=>{var e={};e.id=374,e.ids=[374],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},95848:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var i=t(50482),a=t(69108),r=t(62563),n=t.n(r),d=t(68300),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let c=["",{children:["admin",{children:["booking-history",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,94002)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\admin\\booking-history\\[id]\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,51311)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\admin\\booking-history\\[id]\\loading.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,14357)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\admin\\booking-history\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,17615)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,15438)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\admin\\booking-history\\[id]\\page.tsx"],m="/admin/booking-history/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/booking-history/[id]/page",pathname:"/admin/booking-history/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},25277:(e,s,t)=>{Promise.resolve().then(t.bind(t,97100))},97100:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var i=t(95344),a=t(3729),r=t(8428),n=t(16212),d=t(61351),l=t(69436),c=t(42739),o=t(71532),m=t(66138),x=t(18822),h=t(52175),u=t(55794),p=t(25545),g=t(80508),j=t(37121),v=t(16026),f=t(63954),N=t(57341),y=t(25092),b=t(14269);function k({params:e}){let s=(0,r.useRouter)();(0,v.a)("(max-width: 768px)");let[t,k]=(0,a.useState)(null),[w,Z]=(0,a.useState)(!0),[P,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async function(){try{Z(!0);let s=await fetch(`/api/booking-history/${e.id}`);if(!s.ok)throw Error("Failed to fetch booking detail");let t=await s.json();k(t)}catch(e){console.error("Error loading booking detail:",e),C("ไม่สามารถโหลดข้อมูลรายละเอียดการจองได้ กรุณาลองใหม่อีกครั้ง"),(0,y.Am)({title:"เกิดข้อผิดพลาด",description:"ไม่สามารถโหลดข้อมูลรายละเอียดการจองได้",variant:"destructive"})}finally{Z(!1)}})()},[e.id]);let _=e=>new Date(e).toLocaleDateString("th-TH",{year:"numeric",month:"long",day:"numeric"}),q=e=>new Date(e).toLocaleString("th-TH",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return w?i.jsx("div",{className:"p-4 flex items-center justify-center h-[50vh]",children:(0,i.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(c.Z,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{children:"กำลังโหลดข้อมูล..."})]})}):P||!t?(0,i.jsxs)("div",{className:"p-4 max-w-5xl mx-auto",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,i.jsxs)(n.z,{variant:"ghost",size:"icon",onClick:()=>s.push("/admin/booking-history"),className:"h-8 w-8",children:[i.jsx(o.Z,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"กลับ"})]}),(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"รายละเอียดประวัติการจอง"}),(0,i.jsxs)("p",{className:"text-muted-foreground",children:["ID: ",e.id]})]})]}),i.jsx(d.Zb,{children:i.jsx(d.aY,{className:"py-10 text-center",children:(0,i.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[i.jsx(m.Z,{className:"h-8 w-8 text-destructive"}),i.jsx("p",{className:"text-destructive",children:P||"ไม่พบข้อมูลการจอง"}),i.jsx(n.z,{variant:"outline",className:"mt-4",onClick:()=>s.push("/admin/booking-history"),children:"กลับไปยังหน้าประวัติการจอง"})]})})})]}):(0,i.jsxs)("div",{className:"p-4 max-w-5xl mx-auto",children:[i.jsx(b.x,{}),(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,i.jsxs)(n.z,{variant:"ghost",size:"icon",onClick:()=>s.push("/admin/booking-history"),className:"h-8 w-8",children:[i.jsx(o.Z,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"กลับ"})]}),(0,i.jsxs)("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"รายละเอียดประวัติการจอง"}),(0,i.jsxs)("p",{className:"text-muted-foreground",children:["ID: ",e.id]})]})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[i.jsx(l.C,{className:"bg-green-100 text-green-800 hover:bg-green-200 text-sm px-3 py-1",children:t.status}),(0,i.jsxs)("p",{className:"text-sm text-muted-foreground",children:["คืนรถเมื่อ: ",q(t.endDate)]})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{className:"pb-2",children:(0,i.jsxs)(d.ll,{className:"text-lg flex items-center gap-2",children:[i.jsx(x.Z,{className:"h-4 w-4"}),"ข้อมูลผู้จอง"]})}),(0,i.jsxs)(d.aY,{className:"pt-0",children:[(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,i.jsxs)(f.qE,{className:"h-12 w-12",children:[i.jsx(f.F$,{src:t.user.avatar,alt:t.user.name}),i.jsx(f.Q5,{children:t.user.name.charAt(0)})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"font-medium text-lg",children:t.user.name}),i.jsx("div",{className:"text-sm text-muted-foreground",children:t.user.department})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"อีเมล"}),i.jsx("div",{children:t.user.email})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"เบอร์โทรศัพท์"}),i.jsx("div",{children:t.user.phone||"-"})]})]})]})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{className:"pb-2",children:(0,i.jsxs)(d.ll,{className:"text-lg flex items-center gap-2",children:[i.jsx(h.Z,{className:"h-4 w-4"}),"ข้อมูลการจอง"]})}),(0,i.jsxs)(d.aY,{className:"pt-0 space-y-4",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"รถ"}),(0,i.jsxs)("div",{className:"font-medium",children:[t.car.name," (",t.car.type,")"]}),(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ทะเบียน: ",t.car.licensePlate]})]}),i.jsx(N.Z,{}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"วันที่"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,i.jsxs)("span",{children:[_(t.startDate)," - ",_(t.endDate)]})]})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"เวลา"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,i.jsxs)("span",{children:[t.startTime," - ",t.endTime," น."]})]})]}),t.destination&&(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"สถานที่"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[i.jsx(g.Z,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{children:t.destination})]})]}),i.jsx(N.Z,{}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"วัตถุประสงค์"}),i.jsx("p",{children:t.purpose})]})]})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{className:"pb-2",children:(0,i.jsxs)(d.ll,{className:"text-lg flex items-center gap-2",children:[i.jsx(j.Z,{className:"h-4 w-4"}),"ข้อมูลการใช้งาน"]})}),(0,i.jsxs)(d.aY,{className:"pt-0 space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"เลขไมล์เริ่มต้น"}),(0,i.jsxs)("div",{className:"font-medium",children:[t.startMileage.toLocaleString()," กม."]})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"เลขไมล์สิ้นสุด"}),(0,i.jsxs)("div",{className:"font-medium",children:[t.endMileage.toLocaleString()," กม."]})]})]}),i.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:(0,i.jsxs)("div",{className:"font-medium",children:["ระยะทางที่ใช้: ",t.mileageDiff.toLocaleString()," กม."]})}),i.jsx(N.Z,{}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"ระดับน้ำมันเมื่อคืนรถ"}),i.jsx("div",{className:"font-medium",children:t.fuelLevel})]}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"ค่าน้ำมัน"}),(0,i.jsxs)("div",{className:"font-medium",children:[t.fuelCost?t.fuelCost.toLocaleString():"-"," บาท"]})]})]}),t.notes&&(0,i.jsxs)(i.Fragment,{children:[i.jsx(N.Z,{}),(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"หมายเหตุ"}),i.jsx("p",{children:t.notes})]})]})]})]}),(0,i.jsxs)(d.Zb,{children:[i.jsx(d.Ol,{className:"pb-2",children:(0,i.jsxs)(d.ll,{className:"text-lg flex items-center gap-2",children:[i.jsx(p.Z,{className:"h-4 w-4"}),"ข้อมูลการอนุมัติ"]})}),(0,i.jsxs)(d.aY,{className:"pt-0 space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"วันที่สร้างคำขอ"}),i.jsx("div",{children:q(t.createdAt)})]}),t.approvedAt&&(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"วันที่อนุมัติ"}),i.jsx("div",{children:q(t.approvedAt)})]})]}),t.approver&&(0,i.jsxs)("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"อนุมัติโดย"}),i.jsx("div",{className:"font-medium",children:t.approver.name})]})]})]}),i.jsx("div",{className:"flex justify-center",children:(0,i.jsxs)(n.z,{className:"w-full md:w-auto",children:[i.jsx(j.Z,{className:"mr-2 h-4 w-4"}),"พิมพ์รายงานการใช้รถ"]})})]})]})}},71532:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(69224).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},25545:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(69224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},80508:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(69224).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},18822:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,t(69224).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},51311:(e,s,t)=>{"use strict";function i(){return null}t.r(s),t.d(s,{default:()=>i})},94002:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>a,default:()=>n});let i=(0,t(86843).createProxy)(String.raw`C:\xampp\htdocs\car-booking-system-110\car-booking-system-110\app\admin\booking-history\[id]\page.tsx`),{__esModule:a,$$typeof:r}=i,n=i.default}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),i=s.X(0,[1638,1227,1476,2518,9135,3411,896,3390,2025,5279,3030],()=>t(95848));module.exports=i})();