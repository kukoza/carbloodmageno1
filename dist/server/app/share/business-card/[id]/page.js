(()=>{var e={};e.id=6948,e.ids=[6948],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},64073:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var a=t(50482),i=t(69108),n=t(62563),r=t.n(n),l=t(68300),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c=["",{children:["share",{children:["business-card",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,51253)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\share\\business-card\\[id]\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,12086)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\share\\business-card\\[id]\\loading.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,15438)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\share\\business-card\\[id]\\page.tsx"],m="/share/business-card/[id]/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/share/business-card/[id]/page",pathname:"/share/business-card/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},59110:(e,s,t)=>{Promise.resolve().then(t.bind(t,42242))},2581:(e,s,t)=>{Promise.resolve().then(t.bind(t,99297))},14404:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},35303:()=>{},42242:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(95344),i=t(3729),n=t(8428),r=t(9282),l=t(20016),d=t(93431),c=t(17280),o=t(44337);function m(){let[e,s]=(0,i.useState)(null),[t,m]=(0,i.useState)(!0),[x,h]=(0,i.useState)(null),p=(0,i.useRef)(null),u=(0,i.useRef)(null),b=(0,n.useParams)().id,[g,f]=(0,i.useState)("");(0,i.useEffect)(()=>{let e=async()=>{try{m(!0),h(null);let e=await fetch(`/api/share/business-card/${b}`);if(console.log("API response status:",e.status),!e.ok){let s=await e.json();throw console.error("API error:",s),Error(s.error||"Failed to fetch business card")}let t=await e.json();if(console.log("Shared business card data:",t),s(t),t.id){let e=window.location.origin;f(`${e}/share/business-card/${t.id}`)}}catch(e){console.error("Error loading shared business card:",e),h("Failed to load business card. The card may not exist or has been removed.")}finally{m(!1)}};b&&e()},[b]);let j=async()=>{if(u.current)try{let e=(await (0,r.Z)(u.current,{scale:2,backgroundColor:null,width:850,height:500,windowWidth:850,windowHeight:500})).toDataURL("image/png"),s=document.createElement("a");s.href=e,s.download="business-card.png",s.click()}catch(e){console.error("Error generating image:",e),alert("Failed to download business card image. Please try again.")}},v=e=>["BEGIN:VCARD","VERSION:3.0",`N:${e.name_en}`,`FN:${e.name_en}`,`ORG:${e.company_en}${e.department_en?`;${e.department_en}`:""}`,`TITLE:${e.position_en}`,`TEL;TYPE=CELL:${e.tel}`,`TEL;TYPE=WORK:${e.company_tel}`,e.fax?`TEL;TYPE=FAX:${e.fax}`:"",`EMAIL:${e.email}`,e.website?`URL:${e.website}`:"","ADR;TYPE=WORK:;;Nozomi Enterprise (Thailand) Co., Ltd.382 M.4, Baanklongsuan Rd., Phrasamutjedei,Samut Prakan, Thailand 10290",e.line_id?`X-LINE:${e.line_id}`:"",e.facebook?`X-FACEBOOK:${e.facebook}`:"",e.name_th?`X-NAME-TH:${e.name_th}`:"",e.position_th?`X-POSITION-TH:${e.position_th}`:"",e.company_th?`X-COMPANY-TH:${e.company_th}`:"","END:VCARD"].filter(e=>""!==e).join("\n"),N=e=>e.startsWith("+66")?"0"+e.substring(3).replace(/\s/g,"-"):e.replace(/\s/g,"-"),y=e=>e.replace("/",", ");return t?a.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):x?a.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center py-10 max-w-md mx-auto",children:[a.jsx("div",{className:"text-red-500 text-5xl mb-4",children:"⚠️"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Business Card Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:x})]})}):e?a.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,a.jsxs)("div",{className:"w-full md:w-1/2",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h2",{className:"text-xl font-semibold text-center md:text-left",children:"Business Card"})}),a.jsx("div",{className:"relative mx-auto flex justify-center",style:{width:"100%"},children:(0,a.jsxs)("div",{id:"business-card",ref:p,className:"bg-white rounded-lg shadow-lg overflow-hidden",style:{width:"380px",height:"240px",padding:"15px",boxSizing:"border-box",position:"relative",fontFamily:"Arial, sans-serif"},children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-9 h-9 mr-2",children:a.jsx("img",{src:"/images/nozomi-logo.png",alt:"Nozomi Logo",className:"w-full h-full object-contain"})}),a.jsx("div",{className:"text-xs font-bold leading-tight",children:e.company_en})]}),(0,a.jsxs)("div",{className:"mb-2",children:[a.jsx("div",{className:"text-xs font-medium",children:e.name_th}),a.jsx("div",{className:"text-xs font-bold text-blue-900",children:e.name_en}),e.position_en&&a.jsx("div",{className:"text-xs italic",children:e.position_en})]}),(0,a.jsxs)("div",{className:"text-[10px] space-y-0.5",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("span",{className:"font-semibold mr-1",children:"Mobile :"}),a.jsx("span",{children:N(e.tel)})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("span",{className:"font-semibold mr-1",children:"E-mail :"}),a.jsx("span",{children:e.email})]})]}),a.jsx("div",{className:"absolute right-2 top-14",children:a.jsx("div",{className:"w-20 h-14",children:a.jsx("img",{src:"/images/urs-certification-new.png",alt:"URS Certification",className:"w-full h-full object-contain"})})}),(0,a.jsxs)("div",{className:"text-[10px] mt-1",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-semibold",children:"Head Office : "}),a.jsx("span",{style:{whiteSpace:"pre-line"},children:y(e.address_en)})]}),(0,a.jsxs)("div",{children:["Tel : ",e.company_tel," Fax : ",e.fax]}),(0,a.jsxs)("div",{className:"mt-1",children:[a.jsx("span",{className:"font-semibold",children:"Branch 1 : "}),a.jsx("span",{style:{whiteSpace:"pre-line"},children:y(e.branch_address_en)})]})]}),(0,a.jsxs)("div",{className:"absolute bottom-2 right-2 flex flex-col items-center",children:[a.jsx(o.ZP,{value:g,size:60,renderAs:"svg",includeMargin:!1}),a.jsx("div",{className:"text-[8px] text-green-600 font-semibold mt-0.5",children:"Scan to view"})]})]})})]}),a.jsx("div",{className:"w-full md:w-1/2",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("button",{onClick:j,className:"flex items-center justify-center p-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:[a.jsx(l.Z,{className:"h-5 w-5 mr-2"}),"Save image"]}),(0,a.jsxs)("button",{onClick:()=>{if(e)try{let s=v(e),t=new Blob([s],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(t),i=document.createElement("a");i.href=a,i.download=`${e.name_en.replace(/\s+/g,"_")}.vcf`,i.click(),URL.revokeObjectURL(a)}catch(e){console.error("Error generating vCard:",e),alert("Failed to download vCard. Please try again.")}},className:"flex items-center justify-center p-3 bg-green-500 text-white rounded-lg hover:bg-green-600",children:[a.jsx(d.Z,{className:"h-5 w-5 mr-2"}),"Save vCard"]}),(0,a.jsxs)("button",{onClick:()=>{window.open("https://maps.app.goo.gl/Tf29bSF2sKxbS7NYA","_blank")},className:"flex items-center justify-center p-3 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:[a.jsx(c.Z,{className:"h-5 w-5 mr-2"}),"Google Map"]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[a.jsx("h3",{className:"font-semibold mb-2",children:"Business Card Information"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Size:"})," 95mm x 60mm"]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Format:"})," PNG image"]})]})]})}),a.jsx("div",{style:{position:"absolute",left:"-9999px",top:"-9999px"},children:(0,a.jsxs)("div",{id:"hidden-business-card",ref:u,className:"bg-white overflow-hidden",style:{width:"850px",height:"500px",padding:"30px",boxSizing:"border-box",position:"relative",fontFamily:"Arial, sans-serif"},children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-20 h-20 mr-4",children:a.jsx("img",{src:"/images/nozomi-logo.png",alt:"Nozomi Logo",className:"w-full h-full object-contain"})}),a.jsx("div",{className:"text-3xl font-bold leading-tight",children:e.company_en})]}),(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("div",{className:"text-xl font-medium",children:e.name_th}),a.jsx("div",{className:"text-2xl font-bold text-blue-900",children:e.name_en}),e.position_en&&a.jsx("div",{className:"text-xl italic",children:e.position_en})]}),(0,a.jsxs)("div",{className:"text-lg space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("span",{className:"font-semibold mr-2",children:"Mobile :"}),a.jsx("span",{children:N(e.tel)})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("span",{className:"font-semibold mr-2",children:"E-mail :"}),a.jsx("span",{children:e.email})]})]}),a.jsx("div",{className:"absolute right-4 top-28",children:a.jsx("div",{className:"w-40 h-28",children:a.jsx("img",{src:"/images/urs-certification-new.png",alt:"URS Certification",className:"w-full h-full object-contain"})})}),(0,a.jsxs)("div",{className:"text-lg mt-4",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-semibold",children:"Head Office : "}),a.jsx("span",{style:{whiteSpace:"pre-line"},children:y(e.address_en)})]}),(0,a.jsxs)("div",{children:["Tel : ",e.company_tel," Fax : ",e.fax]}),(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("span",{className:"font-semibold",children:"Branch 1 : "}),a.jsx("span",{style:{whiteSpace:"pre-line"},children:y(e.branch_address_en)})]})]}),(0,a.jsxs)("div",{className:"absolute bottom-4 right-4 flex flex-col items-center",children:[a.jsx(o.ZP,{value:g,size:120,renderAs:"svg",includeMargin:!1}),a.jsx("div",{className:"text-base text-green-600 font-semibold mt-1",children:"Scan to view"})]})]})})]})})}):a.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center py-10 max-w-md mx-auto",children:[a.jsx("div",{className:"text-yellow-500 text-5xl mb-4",children:"\uD83D\uDD0D"}),a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Business Card Not Found"}),a.jsx("p",{className:"text-gray-600",children:"The business card you're looking for doesn't exist or has been removed."})]})})}},99297:(e,s,t)=>{"use strict";t.r(s),t.d(s,{ThemeProvider:()=>n});var a=t(95344),i=t(99558);function n({children:e,...s}){return a.jsx(i.f,{...s,children:e})}},15438:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>x,metadata:()=>m});var a=t(25036),i=t(80265),n=t.n(i);t(67272);var r=t(86843);let l=(0,r.createProxy)(String.raw`C:\xampp\htdocs\car-booking-system-110\car-booking-system-110\components\theme-provider.tsx`),{__esModule:d,$$typeof:c}=l;l.default;let o=(0,r.createProxy)(String.raw`C:\xampp\htdocs\car-booking-system-110\car-booking-system-110\components\theme-provider.tsx#ThemeProvider`),m={title:"โนโซมิ เอ็นเตอร์ไพรส์ - ระบบจองรถ",description:"ระบบจองรถสำหรับโนโซมิ เอ็นเตอร์ไพรส์",generator:"v0.dev"};function x({children:e}){return(0,a.jsxs)("html",{lang:"th",suppressHydrationWarning:!0,children:[a.jsx("head",{children:a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})}),a.jsx("body",{className:n().className,children:a.jsx(o,{attribute:"class",defaultTheme:"light",enableSystem:!0,disableTransitionOnChange:!0,children:e})})]})}},12086:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(25036);function i(){return a.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})})}},51253:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>r});let a=(0,t(86843).createProxy)(String.raw`C:\xampp\htdocs\car-booking-system-110\car-booking-system-110\app\share\business-card\[id]\page.tsx`),{__esModule:i,$$typeof:n}=a,r=a.default},67272:()=>{}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[1638,1227,796],()=>t(64073));module.exports=a})();