(()=>{var e={};e.id=6140,e.ids=[6140],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4905:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>f,tree:()=>d});var a=s(50482),i=s(69108),r=s(62563),n=s.n(r),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["admin",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,70983)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\admin\\settings\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,17615)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,15438)),"C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\xampp\\htdocs\\car-booking-system-110\\car-booking-system-110\\app\\admin\\settings\\page.tsx"],x="/admin/settings/page",m={require:s,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/settings/page",pathname:"/admin/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},75038:(e,t,s)=>{Promise.resolve().then(s.bind(s,36098))},47397:(e,t,s)=>{Promise.resolve().then(s.bind(s,63965))},36098:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(95344),i=s(3729),r=s(61351),n=s(92549),l=s(16212),o=s(25092),d=s(14269),c=s(69224);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,c.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var m=s(66138);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,c.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var h=s(5062);function p(){let[e,t]=(0,i.useState)(""),[s,c]=(0,i.useState)(!1),[p,u]=(0,i.useState)(""),[g,y]=(0,i.useState)(!1),[j,b]=(0,i.useState)("unknown"),{toast:v}=(0,o.pm)(),N=async()=>{try{let e=await fetch("/api/line-notify/check",{method:"GET"});if(e.ok){let t=await e.json();b(t.isValid?"valid":"invalid")}else b("unknown")}catch(e){console.error("Error checking token status:",e),b("unknown")}};(0,i.useEffect)(()=>{N()},[]);let k=async()=>{if(!e.trim()){v({title:"กรุณากรอก Line Notify Token",variant:"destructive"});return}c(!0);try{(await fetch("/api/settings/line-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})})).ok?(v({title:"บันทึก Line Notify Token สำเร็จ",description:"ระบบจะใช้ Token นี้ในการส่งการแจ้งเตือนผ่าน Line"}),N()):v({title:"เกิดข้อผิดพลาด",description:"ไม่สามารถบันทึก Line Notify Token ได้",variant:"destructive"})}catch(e){console.error("Error saving Line token:",e),v({title:"เกิดข้อผิดพลาด",description:"ไม่สามารถบันทึก Line Notify Token ได้",variant:"destructive"})}finally{c(!1)}},w=async()=>{if(!p.trim()){v({title:"กรุณากรอกข้อความทดสอบ",variant:"destructive"});return}y(!0);try{let e=await fetch("/api/line-notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:p})});if(e.ok)v({title:"ส่งข้อความทดสอบสำเร็จ",description:"ตรวจสอบการแจ้งเตือนในกลุ่ม Line ของคุณ"});else{let t=await e.json();v({title:"เกิดข้อผิดพลาด",description:t.error||"ไม่สามารถส่งข้อความทดสอบได้",variant:"destructive"})}}catch(e){console.error("Error sending test message:",e),v({title:"เกิดข้อผิดพลาด",description:"ไม่สามารถส่งข้อความทดสอบได้",variant:"destructive"})}finally{y(!1)}};return(0,a.jsxs)("div",{className:"p-4 pt-6 max-w-5xl mx-auto",children:[a.jsx(d.x,{}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"ตั้งค่าระบบ"}),a.jsx("p",{className:"text-muted-foreground",children:"จัดการการตั้งค่าต่างๆ ของระบบ"})]}),(0,a.jsxs)(r.Zb,{className:"mb-6",children:[(0,a.jsxs)(r.Ol,{children:[a.jsx(r.ll,{children:"การแจ้งเตือนผ่าน Line"}),a.jsx(r.SZ,{children:"ตั้งค่า Line Notify เพื่อรับการแจ้งเตือนเมื่อมีการจองรถใหม่"})]}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:["valid"===j&&(0,a.jsxs)(h.bZ,{className:"bg-green-50 border-green-200",children:[a.jsx(x,{className:"h-4 w-4 text-green-600"}),a.jsx(h.Cd,{className:"text-green-600",children:"Line Notify พร้อมใช้งาน"}),a.jsx(h.X,{className:"text-green-600",children:"ระบบสามารถส่งการแจ้งเตือนผ่าน Line ได้"})]}),"invalid"===j&&(0,a.jsxs)(h.bZ,{variant:"destructive",children:[a.jsx(m.Z,{className:"h-4 w-4"}),a.jsx(h.Cd,{children:"Line Notify Token ไม่ถูกต้อง"}),a.jsx(h.X,{children:"กรุณาตรวจสอบและอัปเดต Line Notify Token ใหม่"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("label",{htmlFor:"lineToken",className:"text-sm font-medium",children:"Line Notify Token"}),(0,a.jsxs)("a",{href:"https://notify-bot.line.me/th/",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline flex items-center",children:[a.jsx("span",{children:"วิธีสร้าง Token"}),a.jsx(f,{className:"h-3 w-3 ml-1"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(n.I,{id:"lineToken",type:"password",placeholder:"กรอก Line Notify Token",value:e,onChange:e=>t(e.target.value)}),a.jsx(l.z,{onClick:k,disabled:s,children:s?"กำลังบันทึก...":"บันทึก"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Token นี้จะถูกใช้ในการส่งการแจ้งเตือนไปยังกลุ่ม Line ที่คุณเพิ่ม Line Notify Bot ไว้"})]}),(0,a.jsxs)("div",{className:"pt-4 border-t",children:[a.jsx("h3",{className:"text-sm font-medium mb-2",children:"ทดสอบการส่งข้อความ"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(n.I,{placeholder:"ข้อความทดสอบ",value:p,onChange:e=>u(e.target.value)}),a.jsx(l.z,{onClick:w,disabled:g||"valid"!==j,children:g?"กำลังส่ง...":"ส่งทดสอบ"})]})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{children:[a.jsx(r.ll,{children:"วิธีตั้งค่า Line Notify"}),a.jsx(r.SZ,{children:"ขั้นตอนการตั้งค่า Line Notify เพื่อรับการแจ้งเตือนจากระบบ"})]}),a.jsx(r.aY,{className:"space-y-4",children:(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2",children:[(0,a.jsxs)("li",{children:["เข้าไปที่เว็บไซต์"," ",a.jsx("a",{href:"https://notify-bot.line.me/th/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Line Notify"})]}),a.jsx("li",{children:"ล็อกอินด้วยบัญชี Line ของคุณ"}),a.jsx("li",{children:'คลิกที่ "หน้าของฉัน" และเลือก "สร้าง Token"'}),a.jsx("li",{children:'ตั้งชื่อ Token (เช่น "ระบบจองรถ") และเลือกกลุ่ม Line ที่ต้องการรับการแจ้งเตือน'}),a.jsx("li",{children:'คลิก "สร้าง" และคัดลอก Token ที่ได้'}),a.jsx("li",{children:'นำ Token มาใส่ในช่อง Line Notify Token ด้านบนและคลิก "บันทึก"'})]})})]})]})}},63965:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>L});var a=s(95344),i=s(56506),r=s(8428),n=s(16212),l=s(2273),o=s(52175),d=s(37121),c=s(89895),x=s(55794),m=s(64989),f=s(96213),h=s(98200),p=s(48120),u=s(91626),g=s(3729),y=s(88794),j=s(49247),b=s(14513);let v=y.fC,N=y.xz;y.x8;let k=y.h_,w=g.forwardRef(({className:e,...t},s)=>a.jsx(y.aV,{className:(0,u.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:s}));w.displayName=y.aV.displayName;let C=(0,j.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Z=g.forwardRef(({side:e="right",className:t,children:s,...i},r)=>(0,a.jsxs)(k,{children:[a.jsx(w,{}),(0,a.jsxs)(y.VY,{ref:r,className:(0,u.cn)(C({side:e}),t),...i,children:[s,(0,a.jsxs)(y.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(b.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Z.displayName=y.VY.displayName,g.forwardRef(({className:e,...t},s)=>a.jsx(y.Dx,{ref:s,className:(0,u.cn)("text-lg font-semibold text-foreground",e),...t})).displayName=y.Dx.displayName,g.forwardRef(({className:e,...t},s)=>a.jsx(y.dk,{ref:s,className:(0,u.cn)("text-sm text-muted-foreground",e),...t})).displayName=y.dk.displayName;var T=s(16026);function L(){let e=(0,r.usePathname)(),t=(0,T.a)("(max-width: 768px)"),[s,y]=(0,g.useState)(!1),j=[{title:"แดชบอร์ด",href:"/admin/dashboard",icon:l.Z},{title:"รถ",href:"/admin/cars",icon:o.Z},{title:"ประเภทรถ",href:"/admin/car-types",icon:d.Z},{title:"ผู้ใช้งาน",href:"/admin/users",icon:c.Z},{title:"การจอง",href:"/admin/bookings",icon:x.Z},{title:"รับคืนรถ",href:"/admin/return-car",icon:m.Z},{title:"ประวัติการจอง",href:"/admin/booking-history",icon:f.Z}],b=()=>{window.location.href="/login"};return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"fixed top-0 left-0 right-0 h-14 bg-background border-b flex items-center justify-between px-4 z-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(o.Z,{className:"h-5 w-5 text-primary"}),a.jsx("h1",{className:"text-lg font-bold",children:"โนโซมิ แอดมิน"})]}),(0,a.jsxs)(v,{open:s,onOpenChange:y,children:[a.jsx(N,{asChild:!0,children:(0,a.jsxs)(n.z,{variant:"ghost",size:"icon",children:[a.jsx(h.Z,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"เมนู"})]})}),(0,a.jsxs)(Z,{side:"left",className:"w-[250px] sm:w-[300px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-8",children:[a.jsx(o.Z,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"โนโซมิ แอดมิน"})]}),(0,a.jsxs)("nav",{className:"grid gap-2",children:[j.map(t=>a.jsx(i.default,{href:t.href,onClick:()=>y(!1),children:(0,a.jsxs)(n.z,{variant:"ghost",className:(0,u.cn)("w-full justify-start gap-2 h-12",e===t.href&&"bg-muted"),children:[a.jsx(t.icon,{className:"h-5 w-5"}),t.title]})},t.href)),(0,a.jsxs)("button",{onClick:b,className:"flex items-center gap-2 px-3 py-2 h-12 mt-4 text-sm rounded-md hover:bg-accent text-left w-full",children:[a.jsx(p.Z,{className:"h-5 w-5"}),"ออกจากระบบ"]})]})]})]})]}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-16 bg-background border-t flex items-center justify-around z-40",children:j.slice(0,5).map(t=>a.jsx(i.default,{href:t.href,className:"flex-1",children:(0,a.jsxs)("div",{className:(0,u.cn)("flex flex-col items-center justify-center h-full",e===t.href?"text-primary":"text-muted-foreground"),children:[a.jsx(t.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs mt-1",children:t.title})]})},t.href))}),a.jsx("div",{className:"pb-16 pt-16"})]}):(0,a.jsxs)("div",{className:"flex flex-col h-screen w-64 bg-muted/40 border-r",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-6 py-4 border-b",children:[a.jsx(o.Z,{className:"h-6 w-6 text-primary"}),a.jsx("h1",{className:"text-xl font-bold",children:"โนโซมิ แอดมิน"})]}),a.jsx("div",{className:"flex-1 py-6 px-4 space-y-1 overflow-auto",children:j.map(t=>a.jsx(i.default,{href:t.href,children:(0,a.jsxs)(n.z,{variant:"ghost",className:(0,u.cn)("w-full justify-start gap-2",e===t.href&&"bg-muted"),children:[a.jsx(t.icon,{className:"h-4 w-4"}),t.title]})},t.href))}),a.jsx("div",{className:"p-4 border-t",children:(0,a.jsxs)("button",{onClick:b,className:"flex w-full items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-accent text-left",children:[a.jsx(p.Z,{className:"h-4 w-4"}),"ออกจากระบบ"]})})]})}},5062:(e,t,s)=>{"use strict";s.d(t,{Cd:()=>d,X:()=>c,bZ:()=>o});var a=s(95344),i=s(3729),r=s(49247),n=s(91626);let l=(0,r.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),o=i.forwardRef(({className:e,variant:t,...s},i)=>a.jsx("div",{ref:i,role:"alert",className:(0,n.cn)(l({variant:t}),e),...s}));o.displayName="Alert";let d=i.forwardRef(({className:e,...t},s)=>a.jsx("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));d.displayName="AlertTitle";let c=i.forwardRef(({className:e,...t},s)=>a.jsx("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},92549:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var a=s(95344),i=s(3729),r=s(91626);let n=i.forwardRef(({className:e,type:t,...s},i)=>a.jsx("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));n.displayName="Input"},16026:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var a=s(3729);function i(e){let[t,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{},[e]),t}},66138:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},17615:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(25036);let i=(0,s(86843).createProxy)(String.raw`C:\xampp\htdocs\car-booking-system-110\car-booking-system-110\components\admin-sidebar.tsx`),{__esModule:r,$$typeof:n}=i,l=i.default;function o({children:e}){return(0,a.jsxs)("div",{className:"flex min-h-screen",children:[a.jsx(l,{}),a.jsx("main",{className:"flex-1 overflow-auto pt-16",children:e})]})}},70983:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>n});let a=(0,s(86843).createProxy)(String.raw`C:\xampp\htdocs\car-booking-system-110\car-booking-system-110\app\admin\settings\page.tsx`),{__esModule:i,$$typeof:r}=a,n=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1638,1227,1476,2518,9135,3411,896,3390,2025,5279],()=>s(4905));module.exports=a})();