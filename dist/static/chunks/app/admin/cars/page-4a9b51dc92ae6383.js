(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4072],{4150:function(e,a,t){Promise.resolve().then(t.bind(t,9034))},9034:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return P}});var s=t(3827),r=t(4090),l=t(8792),i=t(5754),n=t(5179),c=t(7815),d=t(1478),o=t(2706),u=t(4118),m=t(5509),x=t(9842),f=t(8994),h=t(8670),p=t(7211),g=t(94),j=t(5546),v=t(2235),N=t(5561),y=t(632),w=t(7731),b=t(489),k=t(7366),Z=t(7934),C=t(7788),F=t(8973);function P(){let[e,a]=(0,r.useState)([]),[t,P]=(0,r.useState)(!0),[z,M]=(0,r.useState)(null),[E,_]=(0,r.useState)(!1),[S,R]=(0,r.useState)(!1),[V,A]=(0,r.useState)(!1),[I,L]=(0,r.useState)(""),[D,O]=(0,r.useState)("ทั้งหมด"),B=(0,k.a)("(max-width: 768px)"),[T,Q]=(0,r.useState)(null),q=(0,r.useRef)(null),G=(0,r.useRef)(null),[Y,$]=(0,r.useState)(!1),[J,U]=(0,r.useState)([]),[H,K]=(0,r.useState)({name:"",type:"",licensePlate:"",status:"ว่าง",initialMileage:0,image:"",fileName:"",imageFile:null,currentMileage:0});(0,r.useEffect)(()=>{(async function(){try{P(!0);let e=await fetch("/api/cars");if(!e.ok)throw Error("Failed to fetch cars");let t=await e.json();a(t)}catch(e){M("Error loading cars. Please try again."),console.error(e),(0,C.Am)({title:"เกิดข้อผิดพลาด",description:"ไม่สามารถโหลดข้อมูลรถได้ กรุณาลองใหม่อีกครั้ง",variant:"destructive"})}finally{P(!1)}})()},[]),(0,r.useEffect)(()=>{(async function(){try{let e=await fetch("/api/car-types");if(!e.ok)throw Error("Failed to fetch car types");let a=await e.json();U(a)}catch(e){console.error("Error loading car types:",e),(0,C.Am)({title:"เกิดข้อผิดพลาด",description:"ไม่สามารถโหลดข้อมูลประเภทรถได้",variant:"destructive"})}})()},[]);let W=async function(e){var a;let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!s)return;let r=new FileReader;r.onload=()=>{t&&T?Q({...T,image:r.result,imageFile:s}):K({...H,image:r.result,imageFile:s})},r.readAsDataURL(s)},X=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&T?(Q({...T,image:"",fileName:"",imageFile:null}),G.current&&(G.current.value="")):(K({...H,image:"",fileName:"",imageFile:null}),q.current&&(q.current.value=""))},ee=async()=>{try{if(!H.name||!H.type||!H.licensePlate){(0,C.Am)({title:"ข้อมูลไม่ครบถ้วน",description:"กรุณากรอกชื่อรถ ประเภทรถ และทะเบียนรถ",variant:"destructive"});return}let t="",s="";if(H.imageFile){$(!0);let e=new FormData;e.append("file",H.imageFile);try{let a=await fetch("/api/upload",{method:"POST",body:e});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to upload image")}let r=await a.json();if(r.success&&r.fileName&&r.url)t=r.fileName,s=r.url,console.log("Image uploaded successfully:",s);else throw Error("Failed to upload image")}catch(e){console.error("Error uploading image:",e),(0,C.Am)({title:"เกิดข้อผิดพลาดในการอัปโหลดรูปภาพ",description:"ไม่สามารถอัปโหลดรูปภาพได้ กรุณาลองใหม่อีกครั้ง",variant:"destructive"}),$(!1);return}$(!1)}let r={name:H.name,type:H.type,licensePlate:H.licensePlate,initialMileage:H.initialMileage,image:s,fileName:t};console.log("Saving car data:",r);let l=await fetch("/api/cars",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!l.ok){let e=await l.json();throw Error(e.error||"Failed to add car")}let i=await l.json();console.log("Car added successfully:",i),a([...e,i]),K({name:"",type:"",licensePlate:"",status:"ว่าง",initialMileage:0,image:"",fileName:"",imageFile:null,currentMileage:0}),_(!1),(0,C.Am)({title:"เพิ่มรถสำเร็จ",description:"เพิ่มข้อมูลรถใหม่เรียบร้อยแล้ว"})}catch(e){console.error("Error adding car:",e),(0,C.Am)({title:"เกิดข้อผิดพลาด",description:e.message||"ไม่สามารถเพิ่มรถได้ กรุณาลองใหม่อีกครั้ง",variant:"destructive"})}},ea=async()=>{if(T)try{if(!T.name||!T.type||!T.licensePlate){(0,C.Am)({title:"ข้อมูลไม่ครบถ้วน",description:"กรุณากรอกชื่อรถ ประเภทรถ และทะเบียนรถ",variant:"destructive"});return}let t=T.fileName||"",s=T.image||"",r=T.originalFileName||T.fileName||"";if(T.imageFile){$(!0);let e=new FormData;e.append("file",T.imageFile);try{let a=await fetch("/api/upload",{method:"POST",body:e});if(!a.ok){let e=await a.json();throw Error(e.error||"Failed to upload image")}let r=await a.json();if(r.success&&r.fileName&&r.url)t=r.fileName,s=r.url,console.log("Image uploaded successfully:",s);else throw Error("Failed to upload image")}catch(e){console.error("Error uploading image:",e),(0,C.Am)({title:"เกิดข้อผิดพลาดในการอัปโหลดรูปภาพ",description:"ไม่สามารถอัปโหลดรูปภาพได้ กรุณาลองใหม่อีกครั้ง",variant:"destructive"}),$(!1);return}$(!1)}let l={name:T.name,type:T.type,licensePlate:T.licensePlate,status:T.status,currentMileage:T.currentMileage,image:s,fileName:t,oldFileName:r};console.log("Updating car data:",l);let i=await fetch("/api/cars/".concat(T.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!i.ok){let e=await i.json();throw Error(e.error||"Failed to update car")}let n=await i.json();console.log("Car updated successfully:",n),a(e.map(e=>e.id===T.id?n:e)),R(!1),(0,C.Am)({title:"แก้ไขรถสำเร็จ",description:"แก้ไขข้อมูลรถเรียบร้อยแล้ว"})}catch(e){console.error("Error updating car:",e),(0,C.Am)({title:"เกิดข้อผิดพลาด",description:e.message||"ไม่สามารถแก้ไขข้อมูลรถได้ กรุณาลองใหม่อีกครั้ง",variant:"destructive"})}},et=async()=>{if(T)try{let t=await fetch("/api/cars/".concat(T.id),{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to delete car")}a(e.filter(e=>e.id!==T.id)),A(!1),(0,C.Am)({title:"ลบรถสำเร็จ",description:"ลบข้อมูลรถเรียบร้อยแล้ว"})}catch(e){console.error("Error deleting car:",e),(0,C.Am)({title:"เกิดข้อผิดพลาด",description:e.message||"ไม่สามารถลบรถได้ กรุณาลองใหม่อีกครั้ง",variant:"destructive"})}},es=(e,a)=>{e.preventDefault(),e.stopPropagation(),Q({...a,originalFileName:a.fileName}),R(!0)},er=(e,a)=>{e.preventDefault(),e.stopPropagation(),Q(a),A(!0)},el=e.filter(e=>{let a=e.name.toLowerCase().includes(I.toLowerCase())||e.licensePlate.toLowerCase().includes(I.toLowerCase()),t="ทั้งหมด"===D||e.type===D;return a&&t});return t?(0,s.jsx)("div",{className:"p-4 flex items-center justify-center h-[50vh]",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,s.jsx)(f.Z,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{children:"กำลังโหลดข้อมูล..."})]})}):(0,s.jsxs)("div",{className:"p-4 pt-6 max-w-5xl mx-auto",children:[(0,s.jsx)(F.x,{}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"จัดการรถ"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"จัดการรถทั้งหมดในระบบ"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(n.I,{placeholder:"ค้นหารถ...",className:"pl-9",value:I,onChange:e=>L(e.target.value)})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(m.Ph,{value:D,onValueChange:O,className:"flex-1",children:[(0,s.jsx)(m.i4,{children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),(0,s.jsx)(m.ki,{placeholder:"ประเภทรถ"})]})}),(0,s.jsxs)(m.Bw,{children:[(0,s.jsx)(m.Ql,{value:"ทั้งหมด",children:"ทั้งหมด"}),J.map(e=>(0,s.jsx)(m.Ql,{value:e.name,children:e.name},e.id))]})]}),(0,s.jsxs)(o.Vq,{open:E,onOpenChange:_,children:[(0,s.jsxs)(i.z,{onClick:()=>_(!0),children:[(0,s.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"เพิ่มรถ"]}),(0,s.jsxs)(o.cZ,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(o.fK,{children:[(0,s.jsxs)(o.$N,{className:"flex items-center gap-2 text-xl",children:[(0,s.jsx)(j.Z,{className:"h-5 w-5"}),"เพิ่มรถใหม่"]}),(0,s.jsx)(o.Be,{children:"กรอกรายละเอียดสำหรับรถคันใหม่"})]}),(0,s.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)(x._,{htmlFor:"car-image",className:"text-base",children:"รูปภาพรถ"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[H.image?(0,s.jsxs)("div",{className:"relative w-full max-w-[300px] h-[200px] mx-auto",children:[(0,s.jsx)("img",{src:H.image||"/placeholder.svg",alt:"รูปภาพรถ",className:"w-full h-full object-cover rounded-md border"}),(0,s.jsx)(i.z,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full",onClick:()=>X(),disabled:Y,children:(0,s.jsx)(v.Z,{className:"h-4 w-4"})})]}):(0,s.jsxs)("div",{className:"w-full max-w-[300px] h-[200px] border-2 border-dashed rounded-md flex flex-col items-center justify-center gap-2 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.click()},children:[(0,s.jsx)(N.Z,{className:"h-10 w-10 text-muted-foreground"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"คลิกเพื่ออัปโหลดรูปภาพรถ"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"รองรับไฟล์ JPG, PNG ขนาดไม่เกิน 5MB"})]}),(0,s.jsx)("input",{ref:q,type:"file",id:"car-image",accept:"image/jpeg, image/png",className:"hidden",onChange:e=>W(e),disabled:Y}),!H.image&&(0,s.jsxs)(i.z,{variant:"outline",type:"button",onClick:()=>{var e;return null===(e=q.current)||void 0===e?void 0:e.click()},className:"w-full max-w-[300px]",disabled:Y,children:[(0,s.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"เลือกรูปภาพ"]})]})]}),(0,s.jsx)(Z.Z,{}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"name",className:"text-base",children:["ชื่อรถ ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(n.I,{id:"name",value:H.name,onChange:e=>K({...H,name:e.target.value}),placeholder:"โตโยต้า คัมรี่"})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"type",className:"text-base",children:["ประเภทรถ ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)(m.Ph,{value:H.type,onValueChange:e=>K({...H,type:e}),children:[(0,s.jsx)(m.i4,{children:(0,s.jsx)(m.ki,{placeholder:"เลือกประเภทรถ"})}),(0,s.jsx)(m.Bw,{children:J.length>0?J.map(e=>(0,s.jsx)(m.Ql,{value:e.name,children:e.name},e.id)):(0,s.jsx)(m.Ql,{value:"",disabled:!0,children:"ไม่พบข้อมูลประเภทรถ"})})]})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"licensePlate",className:"text-base",children:["ทะเบียนรถ ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(n.I,{id:"licensePlate",value:H.licensePlate,onChange:e=>K({...H,licensePlate:e.target.value}),placeholder:"NZ-1234"})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"initialMileage",className:"text-base",children:["เลขไมล์เริ่มต้น ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(n.I,{id:"initialMileage",type:"number",value:H.initialMileage.toString(),onChange:e=>K({...H,initialMileage:Number.parseInt(e.target.value)||0}),placeholder:"0"})]})]}),(0,s.jsxs)(o.cN,{className:"gap-2 sm:gap-0",children:[(0,s.jsx)(i.z,{variant:"outline",onClick:()=>_(!1),disabled:Y,children:"ยกเลิก"}),(0,s.jsx)(i.z,{onClick:ee,disabled:!H.name||!H.type||!H.licensePlate||Y,children:Y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"กำลังอัปโหลด..."]}):"เพิ่มรถ"})]})]})]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:el.length>0?el.map(e=>(0,s.jsx)(l.default,{href:"/admin/cars/".concat(e.id),children:(0,s.jsxs)(c.Zb,{className:"overflow-hidden hover:bg-muted/50 transition-colors h-full",children:[(0,s.jsx)("div",{className:"aspect-video w-full overflow-hidden bg-muted",children:e.image?(0,s.jsx)("img",{src:e.image||"/placeholder.svg",alt:e.name,className:"w-full h-full object-cover",onError:a=>{console.error("Failed to load image for ".concat(e.name,":"),e.image),a.target.src="/placeholder.svg?height=200&width=300"}}):(0,s.jsx)("img",{src:"/placeholder.svg?height=200&width=300",alt:e.name,className:"w-full h-full object-cover"})}),(0,s.jsxs)(c.aY,{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"bg-primary/10 p-2 rounded-full",children:(0,s.jsx)(j.Z,{className:"h-5 w-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.type})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.C,{variant:"ว่าง"===e.status?"default":"มีการจอง"===e.status?"secondary":"destructive",children:e.status}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsxs)(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a=>es(a,e),children:[(0,s.jsx)(w.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"แก้ไข"})]}),(0,s.jsxs)(i.z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:a=>er(a,e),children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"ลบ"})]})]})]})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground mt-2",children:["ทะเบียน: ",e.licensePlate]}),void 0!==e.initialMileage&&(0,s.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["เลขไมล์ล่าสุด: ",e.currentMileage.toLocaleString()," กม."]})]})]})},e.id)):(0,s.jsx)("div",{className:"col-span-full text-center py-12 text-muted-foreground",children:"ไม่พบรถที่ตรงกับเงื่อนไขการค้นหา"})}),B&&(0,s.jsxs)(i.z,{size:"lg",className:"fixed bottom-20 right-4 h-14 w-14 rounded-full shadow-lg z-30",onClick:()=>_(!0),children:[(0,s.jsx)(g.Z,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"sr-only",children:"เพิ่มรถ"})]}),(0,s.jsx)(o.Vq,{open:S,onOpenChange:R,children:(0,s.jsxs)(o.cZ,{className:"sm:max-w-[550px] max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)(o.fK,{children:[(0,s.jsxs)(o.$N,{className:"flex items-center gap-2 text-xl",children:[(0,s.jsx)(w.Z,{className:"h-5 w-5"}),"แก้ไขข้อมูลรถ"]}),(0,s.jsx)(o.Be,{children:"แก้ไขรายละเอียดของรถคันนี้"})]}),T&&(0,s.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)(x._,{htmlFor:"edit-car-image",className:"text-base",children:"รูปภาพรถ"}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[T.image?(0,s.jsxs)("div",{className:"relative w-full max-w-[300px] h-[200px] mx-auto",children:[(0,s.jsx)("img",{src:T.image||"/placeholder.svg",alt:"รูปภาพรถ",className:"w-full h-full object-cover rounded-md border"}),(0,s.jsx)(i.z,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 h-8 w-8 rounded-full",onClick:()=>X(!0),disabled:Y,children:(0,s.jsx)(v.Z,{className:"h-4 w-4"})})]}):(0,s.jsxs)("div",{className:"w-full max-w-[300px] h-[200px] border-2 border-dashed rounded-md flex flex-col items-center justify-center gap-2 cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.click()},children:[(0,s.jsx)(N.Z,{className:"h-10 w-10 text-muted-foreground"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"คลิกเพื่ออัปโหลดรูปภาพรถ"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"รองรับไฟล์ JPG, PNG ขนาดไม่เกิน 5MB"})]}),(0,s.jsx)("input",{ref:G,type:"file",id:"edit-car-image",accept:"image/jpeg, image/png",className:"hidden",onChange:e=>W(e,!0),disabled:Y}),!T.image&&(0,s.jsxs)(i.z,{variant:"outline",type:"button",onClick:()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.click()},className:"w-full max-w-[300px]",disabled:Y,children:[(0,s.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"เลือกรูปภาพ"]})]})]}),(0,s.jsx)(Z.Z,{}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"edit-name",className:"text-base",children:["ชื่อรถ ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(n.I,{id:"edit-name",value:T.name,onChange:e=>Q({...T,name:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"edit-type",className:"text-base",children:["ประเภทรถ ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)(m.Ph,{value:T.type,onValueChange:e=>Q({...T,type:e}),children:[(0,s.jsx)(m.i4,{children:(0,s.jsx)(m.ki,{placeholder:"เลือกประเภทรถ"})}),(0,s.jsx)(m.Bw,{children:J.length>0?J.map(e=>(0,s.jsx)(m.Ql,{value:e.name,children:e.name},e.id)):(0,s.jsx)(m.Ql,{value:"",disabled:!0,children:"ไม่พบข้อมูลประเภทรถ"})})]})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"edit-licensePlate",className:"text-base",children:["ทะเบียนรถ ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(n.I,{id:"edit-licensePlate",value:T.licensePlate,onChange:e=>Q({...T,licensePlate:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"edit-currentMileage",className:"text-base",children:["เลขไมล์ล่าสุด ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(n.I,{id:"edit-currentMileage",type:"number",value:T.currentMileage.toString(),onChange:e=>Q({...T,currentMileage:Number.parseInt(e.target.value)||0})})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)(x._,{htmlFor:"edit-status",className:"text-base",children:["สถานะ ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)(m.Ph,{value:T.status,onValueChange:e=>Q({...T,status:e}),children:[(0,s.jsx)(m.i4,{children:(0,s.jsx)(m.ki,{placeholder:"เลือกสถานะ"})}),(0,s.jsxs)(m.Bw,{children:[(0,s.jsx)(m.Ql,{value:"ว่าง",children:"ว่าง"}),(0,s.jsx)(m.Ql,{value:"มีการจอง",children:"มีการจอง"}),(0,s.jsx)(m.Ql,{value:"ซ่อมบำรุง",children:"ซ่อมบำรุง"})]})]})]})]}),(0,s.jsxs)(o.cN,{className:"gap-2 sm:gap-0",children:[(0,s.jsx)(i.z,{variant:"outline",onClick:()=>R(!1),disabled:Y,children:"ยกเลิก"}),(0,s.jsx)(i.z,{onClick:ea,disabled:!(null==T?void 0:T.name)||!(null==T?void 0:T.type)||!(null==T?void 0:T.licensePlate)||Y,children:Y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"กำลังอัปโหลด..."]}):"บันทึกการเปลี่ยนแปลง"})]})]})}),(0,s.jsx)(u.aR,{open:V,onOpenChange:A,children:(0,s.jsxs)(u._T,{children:[(0,s.jsxs)(u.fY,{children:[(0,s.jsxs)(u.f$,{className:"flex items-center gap-2 text-xl",children:[(0,s.jsx)(b.Z,{className:"h-5 w-5 text-destructive"}),"ยืนยันการลบรถ"]}),(0,s.jsxs)(u.yT,{children:["คุณแน่ใจหรือไม่ว่าต้องการลบรถคันนี้? การกระทำนี้ไม่สามารถย้อนกลับได้",T&&(0,s.jsx)("div",{className:"mt-4 p-4 bg-muted rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[T.image&&(0,s.jsx)("img",{src:T.image||"/placeholder.svg",alt:T.name,className:"w-16 h-16 object-cover rounded-md"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:T.name}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ทะเบียน: ",T.licensePlate]})]})]})})]})]}),(0,s.jsxs)(u.xo,{className:"gap-2 sm:gap-0",children:[(0,s.jsx)(u.le,{children:"ยกเลิก"}),(0,s.jsx)(u.OL,{onClick:et,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"ลบรถ"})]})]})})]})}},1478:function(e,a,t){"use strict";t.d(a,{C:function(){return n}});var s=t(3827);t(4090);var r=t(9769),l=t(1657);let i=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(i({variant:t}),a),...r})}},2706:function(e,a,t){"use strict";t.d(a,{$N:function(){return h},Be:function(){return p},Vq:function(){return c},cN:function(){return f},cZ:function(){return m},fK:function(){return x},hg:function(){return d}});var s=t(3827),r=t(4090),l=t(2936),i=t(2235),n=t(1657);let c=l.fC,d=l.xz,o=l.h_;l.x8;let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});u.displayName=l.aV.displayName;let m=r.forwardRef((e,a)=>{let{className:t,children:r,...c}=e;return(0,s.jsxs)(o,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.VY,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...c,children:[r,(0,s.jsxs)(l.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.VY.displayName;let x=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};x.displayName="DialogHeader";let f=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};f.displayName="DialogFooter";let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.Dx,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});h.displayName=l.Dx.displayName;let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});p.displayName=l.dk.displayName},5179:function(e,a,t){"use strict";t.d(a,{I:function(){return i}});var s=t(3827),r=t(4090),l=t(1657);let i=r.forwardRef((e,a)=>{let{className:t,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...i})});i.displayName="Input"},9842:function(e,a,t){"use strict";t.d(a,{_:function(){return d}});var s=t(3827),r=t(4090),l=t(4602),i=t(9769),n=t(1657);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.f,{ref:a,className:(0,n.cn)(c(),t),...r})});d.displayName=l.f.displayName},5509:function(e,a,t){"use strict";t.d(a,{Bw:function(){return h},Ph:function(){return o},Ql:function(){return p},i4:function(){return m},ki:function(){return u}});var s=t(3827),r=t(4090),l=t(8161),i=t(3441),n=t(5159),c=t(9259),d=t(1657);let o=l.fC;l.ZA;let u=l.B4,m=r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(l.xz,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,s.jsx)(l.JO,{asChild:!0,children:(0,s.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.xz.displayName;let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.u_,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=l.u_.displayName;let f=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.$G,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=l.$G.displayName;let h=r.forwardRef((e,a)=>{let{className:t,children:r,position:i="popper",...n}=e;return(0,s.jsx)(l.h_,{children:(0,s.jsxs)(l.VY,{ref:a,className:(0,d.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,s.jsx)(x,{}),(0,s.jsx)(l.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(f,{})]})})});h.displayName=l.VY.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.__,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=l.__.displayName;let p=r.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(l.ck,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.wU,{children:(0,s.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(l.eT,{children:r})]})});p.displayName=l.ck.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=l.Z0.displayName},7934:function(e,a,t){"use strict";t.d(a,{Z:function(){return n}});var s=t(3827),r=t(4090),l=t(1014),i=t(1657);let n=r.forwardRef((e,a)=>{let{className:t,orientation:r="horizontal",decorative:n=!0,...c}=e;return(0,s.jsx)(l.f,{ref:a,decorative:n,orientation:r,className:(0,i.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...c})});n.displayName=l.f.displayName},7366:function(e,a,t){"use strict";t.d(a,{a:function(){return r}});var s=t(4090);function r(e){let[a,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let a=window.matchMedia(e),s=e=>t(e.matches);return t(a.matches),a.addEventListener("change",s),()=>a.removeEventListener("change",s)},[e]),a}},5546:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]])},7211:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},5561:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},8994:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7731:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},94:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8670:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},489:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},632:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(7461).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},8792:function(e,a,t){"use strict";t.d(a,{default:function(){return r.a}});var s=t(5250),r=t.n(s)},4602:function(e,a,t){"use strict";t.d(a,{f:function(){return n}});var s=t(4090),r=t(9586),l=t(3827),i=s.forwardRef((e,a)=>(0,l.jsx)(r.WV.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var n=i},1014:function(e,a,t){"use strict";t.d(a,{f:function(){return d}});var s=t(4090),r=t(9586),l=t(3827),i="horizontal",n=["horizontal","vertical"],c=s.forwardRef((e,a)=>{let{decorative:t,orientation:s=i,...c}=e,d=n.includes(s)?s:i;return(0,l.jsx)(r.WV.div,{"data-orientation":d,...t?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:a})});c.displayName="Separator";var d=c}},function(e){e.O(0,[4894,613,6111,2776,9137,5250,2028,5687,5330,2971,8069,1744],function(){return e(e.s=4150)}),_N_E=e.O()}]);